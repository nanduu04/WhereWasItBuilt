(()=>{"use strict";function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,c,i,d=[],l=!0,u=!1;try{if(c=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=c.call(t)).done)&&(d.push(r.value),d.length!==n);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw o}}return d}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,n={detected:!1,confidence:0,version:null,methods:[]},t=e.querySelector('meta[name="generator"]');if(t&&t.content.toLowerCase().includes("wordpress")){n.detected=!0,n.confidence+=.8,n.methods.push("meta_generator");var r=t.content.match(/WordPress\s+(\d+\.\d+(\.\d+)?)/i);r&&(n.version=r[1])}return e.querySelectorAll('link[href*="wp-content"], script[src*="wp-content"]').length>0&&(n.detected=!0,n.confidence+=.7,n.methods.push("wp_content_url")),e.querySelectorAll('script[src*="wp-includes"]').length>0&&(n.detected=!0,n.confidence+=.7,n.methods.push("wp_includes_url")),e.querySelectorAll('link[href*="wp-json"]').length>0&&(n.detected=!0,n.confidence+=.7,n.methods.push("wp_json_endpoint")),n.detected&&(n.confidence=Math.min(n.confidence,1)),n}function r(){var n={wordpress:t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document)},r=Object.entries(n).filter((function(n){var t=e(n,2);return t[0],t[1].detected})).sort((function(n,t){var r=e(n,2),o=(r[0],r[1]),c=e(t,2);return c[0],c[1].confidence-o.confidence}))[0];return{platform:r?r[0]:"unknown",details:n,confidence:r?r[1].confidence:0}}window.addEventListener("load",(function(){var e=r();chrome.runtime.sendMessage({type:"PLATFORM_DETECTED",payload:e})})),chrome.runtime.onMessage.addListener((function(e,n,t){return"GET_PLATFORM_INFO"===e.type&&t(r()),!0}))})();